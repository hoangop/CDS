# CDS Analytics

A comprehensive web application for analyzing and comparing U.S. university admission data from the Common Data Set (CDS).

## ğŸ¯ Features

- **Browse 230+ Universities** with admission statistics
- **Compare Acceptance Rates** (overall and international students)
- **View US News Rankings** (2025)
- **Search & Filter** institutions by name or alphabetically
- **Detailed Stats** for each institution with year-over-year data

## ğŸš€ Quick Start

See [QUICKSTART.md](./QUICKSTART.md) for 5-minute setup guide.

```bash
# 1. Clone and setup
git clone https://github.com/hoangop/CDS.git
cd CDS_project
python3 -m venv venv && source venv/bin/activate
pip install -r requirements.txt

# 2. Start services
docker-compose up -d

# 3. Create database
./venv/bin/python data_pipeline/scripts/create_db.py

# 4. Import data (optional)
./venv/bin/python data_pipeline/scripts/import_from_csv.py

# 5. Access app
open http://localhost:3000
```

## ğŸ“ Project Structure

```
CDS_project/
â”œâ”€â”€ frontend/              # Next.js React application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/          # App router pages
â”‚   â”‚   â”œâ”€â”€ components/   # React components
â”‚   â”‚   â””â”€â”€ lib/          # Utilities
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ backend/              # FastAPI application
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/         # API endpoints
â”‚   â”‚   â”œâ”€â”€ models/      # SQLAlchemy models
â”‚   â”‚   â””â”€â”€ core/        # Database config
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ data_pipeline/        # Data processing scripts
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ create_db.py          # Create DB schema
â”‚   â”‚   â”œâ”€â”€ process_pdfs_to_db.py # Parse PDFs with Gemini
â”‚   â”‚   â””â”€â”€ update_rankings.py    # Scrape US News rankings
â”‚   â””â”€â”€ raw_data/
â”‚       â””â”€â”€ pdfs/        # CDS PDF files
â”œâ”€â”€ docker-compose.yml    # Orchestrate services
â”œâ”€â”€ ARCHITECTURE.md       # ğŸ“– Detailed system documentation
â”œâ”€â”€ QUICKSTART.md         # ğŸš€ 5-minute setup guide
â””â”€â”€ README.md            # This file
```

## ğŸ—ï¸ Architecture

**Frontend:** Next.js 14 + TypeScript + TailwindCSS  
**Backend:** FastAPI + SQLAlchemy  
**Database:** PostgreSQL 15  
**Data Sources:** CDS PDFs, College Scorecard API, US News (web scraping)

See [ARCHITECTURE.md](./ARCHITECTURE.md) for detailed system design, API docs, and coding conventions.

## ğŸŒ Access Points

- **Frontend:** http://localhost:3000
- **Backend API:** http://localhost:8000/api/v1/schools
- **API Docs:** http://localhost:8000/docs
- **Database:** `postgresql://postgres:postgres@localhost:5432/cds_db`

## ğŸ“Š Data Pipeline

### 1. Import from CSV (Fast)
```bash
./venv/bin/python data_pipeline/scripts/import_from_csv.py
```

### 2. Parse PDFs with Gemini Vision (Slow)
```bash
export GOOGLE_API_KEY="your-key-here"
./venv/bin/python data_pipeline/scripts/process_pdfs_to_db.py
```

### 3. Scrape Rankings (Very Slow)
```bash
./venv/bin/python data_pipeline/scripts/update_rankings.py
```

## ğŸ§ª Testing

```bash
# Test entire system
./venv/bin/python test_system.py

# Expected output:
# âœ… ALL TESTS PASSED!
# ğŸ“Š Total Institutions: 230
# ğŸ† Schools with Rankings: 83
```

## ğŸ› ï¸ Development

```bash
# Restart backend after code changes
docker-compose restart backend

# View logs
docker logs cds_project-backend-1 --tail 50

# Access database
docker exec -it cds_project-db-1 psql -U postgres -d cds_db
```

## ğŸ“š Documentation

- **[ARCHITECTURE.md](./ARCHITECTURE.md)** - Comprehensive system design, API reference, database schema
- **[QUICKSTART.md](./QUICKSTART.md)** - Fast setup guide
- **API Docs** - http://localhost:8000/docs (auto-generated by FastAPI)

## ğŸ”‘ Environment Variables

```bash
# Backend
DATABASE_URL=postgresql://postgres:postgres@db:5432/cds_db

# Frontend
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1

# Data Pipeline
GOOGLE_API_KEY=your-gemini-api-key
```

## ğŸ³ Docker Services

```yaml
services:
  db:        # PostgreSQL 15 (port 5432)
  backend:   # FastAPI (port 8000)
  frontend:  # Next.js (port 3000)
```

## ğŸ¤ Contributing

1. Read [ARCHITECTURE.md](./ARCHITECTURE.md) for coding conventions
2. Create a feature branch
3. Make changes and test: `./venv/bin/python test_system.py`
4. Commit with format: `<type>: <description>` (e.g., `feat: Add comparison tool`)
5. Submit pull request

## ğŸ“„ License

MIT License - See LICENSE file for details

## ğŸ‘¥ Authors

- **hoangop** - Initial work - [GitHub](https://github.com/hoangop)

## ğŸ”— Links

- **Repository:** https://github.com/hoangop/CDS
- **Common Data Set Initiative:** https://commondataset.org/
- **College Scorecard API:** https://collegescorecard.ed.gov/data/documentation/

---

**Status:** âœ… Production Ready  
**Version:** 1.0  
**Last Updated:** December 2024
